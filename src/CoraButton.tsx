import React, { useState } from 'react';

interface CoraButtonProps {
  onClick?: () => void;
  disabled?: boolean;
  className?: string;
}

type ButtonState = 'default' | 'hover' | 'pressed';

const backgroundColors: Record<ButtonState, string> = {
  default: '#005F85',
  hover: '#337F9D',
  pressed: '#004764',
};

export const CoraButton: React.FC<CoraButtonProps> = ({
  onClick,
  disabled = false,
  className = '',
}) => {
  const [state, setState] = useState<ButtonState>('default');

  const handleMouseEnter = () => {
    if (!disabled) setState('hover');
  };

  const handleMouseLeave = () => {
    if (!disabled) setState('default');
  };

  const handleMouseDown = () => {
    if (!disabled) setState('pressed');
  };

  const handleMouseUp = () => {
    if (!disabled) setState('hover');
  };

  const bgColor = disabled ? '#4a4a4a' : backgroundColors[state];

  return (
    <button
      onClick={onClick}
      disabled={disabled}
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
      onMouseDown={handleMouseDown}
      onMouseUp={handleMouseUp}
      className={className}
      style={{
        background: 'none',
        border: 'none',
        padding: 0,
        cursor: disabled ? 'not-allowed' : 'pointer',
        opacity: disabled ? 0.6 : 1,
        outline: 'none',
      }}
      aria-label="Cora AI"
    >
      <svg
        width="91"
        height="36"
        viewBox="0 0 91 36"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <filter
            id="dropShadow"
            x="0"
            y="0"
            width="91"
            height="36"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="2" />
            <feGaussianBlur stdDeviation="1" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
            />
            <feBlend mode="normal" in2="BackgroundImageFix" result="dropShadow" />
            <feBlend mode="normal" in="SourceGraphic" in2="dropShadow" result="shape" />
          </filter>
          <filter
            id="glowLeft"
            x="-61.2"
            y="-43.2"
            width="117.4"
            height="86.4"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
            <feGaussianBlur stdDeviation="11.1" result="blur" />
          </filter>
          <filter
            id="glowRight"
            x="17.8"
            y="-7.2"
            width="102.4"
            height="102.4"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
            <feGaussianBlur stdDeviation="11.1" result="blur" />
          </filter>
          <radialGradient
            id="logoGradient"
            cx="0"
            cy="0"
            r="1"
            gradientUnits="userSpaceOnUse"
            gradientTransform="translate(21.6006 15.1) rotate(75) scale(3.20936)"
          >
            <stop stopColor="#4DBDC6" />
            <stop offset="1" stopColor="#005F85" />
          </radialGradient>
          <clipPath id="buttonClip">
            <path d="M2 16C2 7.16344 9.16344 0 18 0H73C81.8366 0 89 7.16344 89 16C89 24.8366 81.8366 32 73 32H18C9.16344 32 2 24.8366 2 16Z" />
          </clipPath>
        </defs>

        <g filter="url(#dropShadow)">
          <g clipPath="url(#buttonClip)">
            {/* Main background */}
            <path
              d="M2 16C2 7.16344 9.16344 0 18 0H73C81.8366 0 89 7.16344 89 16C89 24.8366 81.8366 32 73 32H18C9.16344 32 2 24.8366 2 16Z"
              fill={bgColor}
            />

            {/* Glow effects */}
            <g filter="url(#glowLeft)">
              <ellipse cx="-2.5" rx="36.5" ry="21" fill="#0088B5" />
            </g>
            <g filter="url(#glowRight)">
              <circle cx="69" cy="44" r="29" fill="#0081B5" />
            </g>

            {/* Logo background shape */}
            <path
              opacity="0.3"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M21.73 4.75763C24.4414 4.82097 26.7562 6.47219 27.7854 8.81822C30.1775 9.86771 31.8469 12.2539 31.8474 15.0339V15.0381C31.846 17.8157 30.1775 20.2021 27.7848 21.2517C26.7351 23.6436 24.3489 25.3129 21.5688 25.3131H21.5658C18.7881 25.3119 16.4016 23.6438 15.3519 21.2514C12.9593 20.2016 11.2916 17.815 11.2902 15.0381V15.0339L11.2919 14.873C11.3554 12.1629 13.0055 9.84747 15.3516 8.81793C16.4012 6.42545 18.7877 4.75707 21.5658 4.75586H21.5688L21.73 4.75763Z"
              fill="#4DBDC6"
            />

            {/* Logo cross shape */}
            <path
              d="M21.5674 9.0627C20.1979 9.06341 19.0882 10.1721 19.0879 11.5432C19.0879 12.1004 18.6332 12.5548 18.0771 12.5549C16.7061 12.555 15.5969 13.665 15.5967 15.0354V15.0363C15.5974 16.4056 16.7057 17.5157 18.0771 17.5158C18.6329 17.5159 19.0878 17.9711 19.0879 18.5266L19.1006 18.7805C19.2277 20.0321 20.2835 21.0064 21.5674 21.007H21.5684C22.9391 21.0069 24.0487 19.8974 24.0488 18.5266L24.0547 18.424C24.1065 17.9157 24.538 17.5159 25.0605 17.5158C26.4316 17.5155 27.5403 16.4057 27.541 15.0363V15.0353C27.5408 13.6648 26.4312 12.5552 25.0605 12.5549L24.957 12.549C24.4484 12.497 24.0489 12.065 24.0488 11.5432C24.0485 10.1725 22.9391 9.06281 21.5684 9.0627H21.5674Z"
              fill="url(#logoGradient)"
              stroke="#94D7DD"
              strokeWidth="3.16169"
            />

            {/* "C" letter */}
            <path
              d="M40.8002 10C41.4079 10 41.9731 10.0853 42.4955 10.2559C43.0179 10.4264 43.4835 10.6771 43.8922 11.0076C44.3009 11.3346 44.6368 11.7361 44.8998 12.2123C45.1664 12.685 45.3403 13.2253 45.4221 13.833H43.4283C43.3715 13.5061 43.2667 13.2164 43.1139 12.9641C42.961 12.7082 42.7708 12.4914 42.5434 12.3137C42.3159 12.136 42.0564 12.0027 41.765 11.9139C41.4772 11.8215 41.1663 11.7752 40.8322 11.7752C40.2387 11.7752 39.7128 11.9245 39.2543 12.223C38.7958 12.518 38.4368 12.9516 38.1773 13.5238C37.9179 14.0924 37.7883 14.7873 37.7883 15.6082C37.7883 16.4433 37.9179 17.147 38.1773 17.7191C38.4403 18.2878 38.7994 18.7179 39.2543 19.0094C39.7127 19.2972 40.237 19.441 40.827 19.441C41.1539 19.441 41.4595 19.3984 41.7437 19.3131C42.0316 19.2242 42.2893 19.0946 42.5168 18.924C42.7478 18.7534 42.9415 18.5437 43.0979 18.2949C43.2578 18.0461 43.3679 17.7618 43.4283 17.442L45.4221 17.4527C45.3474 17.9716 45.1859 18.4584 44.9371 18.9133C44.6919 19.3682 44.3701 19.7699 43.9721 20.1182C43.574 20.4629 43.1085 20.7331 42.5754 20.9285C42.0423 21.1204 41.4505 21.2164 40.8002 21.2164C39.8406 21.2164 38.9841 20.9942 38.2307 20.55C37.4772 20.1058 36.8838 19.4641 36.4502 18.6254C36.0166 17.7867 35.7998 16.781 35.7998 15.6082C35.7998 14.4318 36.0183 13.426 36.4555 12.5908C36.8926 11.7521 37.488 11.1107 38.2414 10.6664C38.9948 10.2222 39.8477 10 40.8002 10Z"
              fill="white"
            />

            {/* "o" letter */}
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M50.2695 12.7721C51.0691 12.7721 51.7621 12.948 52.3484 13.2998C52.9348 13.6516 53.3882 14.1457 53.708 14.7818C54.0314 15.418 54.193 16.159 54.193 17.0049C54.193 17.8507 54.0314 18.5899 53.708 19.2225C53.3882 19.8551 52.9348 20.3474 52.3484 20.6992C51.7621 21.051 51.0691 21.2269 50.2695 21.227C49.4699 21.227 48.7768 21.051 48.1904 20.6992C47.604 20.3474 47.149 19.8551 46.8256 19.2225C46.5058 18.5899 46.3459 17.8507 46.3459 17.0049C46.3459 16.159 46.5057 15.418 46.8256 14.7818C47.149 14.1457 47.604 13.6516 48.1904 13.2998C48.7768 12.948 49.4699 12.7721 50.2695 12.7721ZM50.2801 14.3021C49.8358 14.3022 49.4663 14.423 49.1713 14.6646C48.8799 14.9063 48.6613 15.2315 48.5156 15.6402C48.3735 16.0454 48.3023 16.4985 48.3023 16.9996C48.3024 17.4971 48.3735 17.9484 48.5156 18.3535C48.6613 18.7587 48.8799 19.0822 49.1713 19.3238C49.4663 19.5619 49.8359 19.681 50.2801 19.6811C50.7136 19.6811 51.0762 19.5619 51.3676 19.3238C51.659 19.0822 51.8758 18.7587 52.018 18.3535C52.1637 17.9484 52.2365 17.4971 52.2365 16.9996C52.2365 16.4985 52.1637 16.0454 52.018 15.6402C51.8758 15.2315 51.659 14.9063 51.3676 14.6646C51.0762 14.423 50.7137 14.3021 50.2801 14.3021Z"
              fill="white"
            />

            {/* "r" letter */}
            <path
              d="M59.3574 12.7615C59.464 12.7615 59.5832 12.7667 59.7146 12.7773C59.8497 12.7845 59.9617 12.7969 60.0506 12.8146V14.59C59.9688 14.5616 59.839 14.5366 59.6613 14.5152C59.4872 14.4904 59.3184 14.4779 59.1549 14.4779C58.8031 14.4779 58.4868 14.5544 58.2061 14.7072C57.9289 14.8565 57.7101 15.0643 57.5502 15.3309C57.3903 15.5974 57.3104 15.9049 57.3104 16.2531V21.067H55.3807V12.8787H57.2518V14.2434H57.3371C57.4864 13.7707 57.7422 13.4065 58.1047 13.1506C58.4707 12.8912 58.8883 12.7615 59.3574 12.7615Z"
              fill="white"
            />

            {/* "a" letter */}
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M64.0889 12.7721C64.4833 12.7721 64.8761 12.8183 65.267 12.9107C65.6579 13.0031 66.0151 13.1559 66.3385 13.3691C66.6619 13.5788 66.9213 13.865 67.1168 14.2275C67.3158 14.59 67.4152 15.0432 67.4152 15.5869V21.067H65.5602V19.9422H65.4961C65.3788 20.1696 65.2136 20.3828 65.0004 20.5818C64.7907 20.7773 64.5259 20.9356 64.2061 21.0564C63.8898 21.1737 63.5184 21.2322 63.092 21.2322C62.5731 21.2322 62.1057 21.1399 61.6898 20.9551C61.2776 20.7667 60.9506 20.4895 60.709 20.1234C60.4709 19.7574 60.3518 19.306 60.3518 18.7693C60.3518 18.3074 60.437 17.9253 60.6076 17.6232C60.7782 17.3212 61.0111 17.0795 61.3061 16.8982C61.601 16.717 61.9333 16.5801 62.3029 16.4877C62.6761 16.3917 63.0617 16.3225 63.4598 16.2799C63.9395 16.2301 64.3286 16.1858 64.6271 16.1467C64.9256 16.104 65.1425 16.04 65.2775 15.9547C65.4161 15.8658 65.4855 15.7289 65.4855 15.5441V15.5121C65.4855 15.1106 65.3664 14.7996 65.1283 14.5793C64.8902 14.359 64.5472 14.2488 64.0994 14.2488C63.6268 14.2488 63.2518 14.3519 62.9746 14.558C62.701 14.7641 62.5163 15.0076 62.4203 15.2883L60.6184 15.0324C60.7605 14.5349 60.9951 14.119 61.3221 13.785C61.649 13.4473 62.0488 13.195 62.5215 13.0279C62.9942 12.8573 63.5167 12.7721 64.0889 12.7721ZM65.4908 17.1648C65.4304 17.2146 65.3273 17.2607 65.1816 17.3033C65.0395 17.346 64.8796 17.3834 64.702 17.4154C64.5243 17.4474 64.3482 17.4757 64.174 17.5006C63.9999 17.5255 63.8488 17.5469 63.7209 17.5646C63.4331 17.6037 63.1755 17.6676 62.948 17.7564C62.7206 17.8453 62.5411 17.9698 62.4096 18.1297C62.2781 18.2861 62.2123 18.4887 62.2123 18.7375C62.2123 19.0929 62.3421 19.3611 62.6016 19.5424C62.861 19.7236 63.1914 19.8142 63.593 19.8143C63.9803 19.8143 64.3163 19.7378 64.6006 19.585C64.8849 19.4286 65.1034 19.2225 65.2562 18.9666C65.4126 18.7107 65.4908 18.4318 65.4908 18.1297V17.1648Z"
              fill="white"
            />

            {/* "A" letter (cyan) */}
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M75.8795 13.2566H74.8629L74.4273 11.9605H72.4512L72.0164 13.2566H71L72.8506 8H74.0262L75.8795 13.2566ZM72.7076 11.1957H74.1705L73.459 9.07812H73.418L72.7076 11.1957Z"
              fill="#82E6FF"
            />

            {/* "I" letter (cyan) */}
            <path d="M77.3072 13.2566H76.3549V8H77.3072V13.2566Z" fill="#82E6FF" />
          </g>

          {/* Gradient border stroke */}
          <path
            d="M18 1H73C81.2843 1 88 7.71573 88 16C88 24.2843 81.2843 31 73 31H18C9.71573 31 3 24.2843 3 16C3 7.71573 9.71573 1 18 1Z"
            stroke="url(#borderGradient)"
            strokeWidth="2"
            fill="none"
          />
        </g>

        <defs>
          <linearGradient id="borderGradient" x1="2" y1="16" x2="89" y2="16">
            <stop offset="0%" stopColor="#037DAF" />
            <stop offset="50%" stopColor="#06ABEE" />
            <stop offset="100%" stopColor="#0192CD" />
          </linearGradient>
        </defs>
      </svg>
    </button>
  );
};

export default CoraButton;
